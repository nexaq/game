## INIT

Как развернуть локально:

1. `cp .env.example .env`
2. Поменяй MAIN_HOSTNAME на нужный (напр.: localhost)
3. Поменяй MAIN_PORT на нужный (напр.: 80)
4. Запустить `docker-compose -f docker-compose.dev.yml up` и не париться
5. Работает по адрессу http://{MAIN_HOSTNAME}:{MAIN_PORT}
6. Можно вставить свои SSL-сертификаты в папку `proxy/ssl` для проверки в production и
   запустить `docker-compose -f docker-compose.prod.yml up`, будет работать 
   по адресу https://{MAIN_HOSTNAME}

## STACK

- redux
- react
- thunk
- react-loadable (game.tsx)
- express (для SSR и БЕКА)
- nginx (proxy)
- docker, docker-compose
- react-refresh (НЕ hot-loader и НЕ HMR), новая фича позволяет сохранять
  state https://www.npmjs.com/package/react-refresh
- postgresql (sequelize ORM)
- postcss
- по максимуму писал свои кастомные решения что бы потренироваться

## PROXY

все запросы идут через прокси, оттуда уже разпределяются на backend и client сервисы (папка /proxy)

## ДИЗАЙН

Собственной разработки строго не судите:
https://www.figma.com/file/Dva2kWqjqAyI80RDfzWD7o/STARSHIPS?node-id=0%3A1

Может немного отличаться от того что есть сейчас

## СТИЛИ

Отказался от БЭМ'а но не полностью, из-за style-modules (вещь!)

Отказался от SASS в пользу postcss и пожалел об этом, много несовместимостей среди планинов postcss.. отстой... SCSS
рулит

...

...

...

...

...

...

...

...

...

...

...

...

## ЗАМЕТКИ НА БУДУЩЕЕ

Очень мало примеров sequelize + typescript в интернете, в след раз пробую монго

На беке нет нормальной валидации, сейчас sequelize это делает

Сделать нормальные алерты об ошибках

JWT какшка, из-за refresh token'а получаются тоже самое что и сессии??

Сейчас нет одного типа ответов с сервера, нужно превести их в один вид

Была уязвимость, папка бандлы ssr, backend, express и client билдились в одно место в папке dist, получается express
раздавал серверные файлы. Планирую в будующем полностью изолировать сервисы возможно даже в отдельные репозитории во
избежания такого рода ошибок. и сборка уж больно долго запускается.. что бы у каждого сервиса был свой dist,
node_modules,..

Местами в коде игры (`client/game`) сразу возващается "живой" инстанс класса из модуля (типа синглтон), что не есть
хорошо.. любой компонент/класс может обращаться на прямую, а не через какой либо отдельны интерфейс/api... из-за чего
возникает проблема при удалении главного компонента игры (когда страница с игрой делает unmount), приходиться ручками
подчищать содержимае таких инстансов во избежание утечек памяти и что бы игра не продолжалась вне компонента страницы с
игрой. В будующем будет исправлено. Так что принципы из OOP лучше соблюдать!

В следующий раз буду хранить статус загрузки в redux

Пару варнингов в реакт стрикт мод из-за `transition-group` (устаревший плагин) нужно заменить

react-loadable не совместим с react-refresh! кошмар... Game.tsx приходится отключать react-refresh.. возможно стоит
смотреть в сторону авто перезагузки страницы для ssr сборок

Разбить сервисы на отдельные репозитории, так как компьютер задыхается, и еще возможно вынести UI элементы в отдельную
репу